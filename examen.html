<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <title>GeefGas – Examen</title>
  <link rel="stylesheet" href="styles.css">
  <script src="exam-data.js" defer></script>
</head>
<body>

<header class="topbar">
  <div class="container topbar__inner">
    <span class="brand__name">GeefGas – Examen</span>
    <span class="timer" id="timer">05:00</span>
  </div>
</header>

<main class="section">
  <div class="container">
    <h3 id="questionText"></h3>
    <div id="answers" class="answers"></div>

    <div class="previewcard__footer">
      <span id="progress"></span>
      <button class="btn btn--gold" id="nextBtn">Volgende</button>
    </div>
  </div>
</main>

<script>
let index = 0;
let score = 0;
let time = 300;

const qText = document.getElementById("questionText");
const answersDiv = document.getElementById("answers");
const progress = document.getElementById("progress");

function renderQuestion() {
  const q = EXAM_QUESTIONS[index];
  qText.textContent = q.question;
  progress.textContent = `Vraag ${index + 1} van ${EXAM_QUESTIONS.length}`;
  answersDiv.innerHTML = "";

  q.answers.forEach((a, i) => {
    const btn = document.createElement("button");
    btn.className = "answer";
    btn.textContent = a;
    btn.onclick = () => {
      if (i === q.correct) score++;
      index++;
      index < EXAM_QUESTIONS.length
        ? renderQuestion()
        : finishExam();
    };
    answersDiv.appendChild(btn);
  });
}

function finishExam() {
  localStorage.setItem("score", score);
  window.location.href = "resultaat.html";
}

setInterval(() => {
  time--;
  document.getElementById("timer").textContent =
    String(Math.floor(time / 60)).padStart(2, "0") +
    ":" +
    String(time % 60).padStart(2, "0");
  if (time <= 0) finishExam();
}, 1000);

renderQuestion();
</script>

</body>
</html>

