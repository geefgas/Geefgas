<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GeefGas – Taxi examens</title>

  <link rel="stylesheet" href="styles.css">
  <script src="exam-data.js"></script>
</head>

<body class="theme">

<!-- TOPBAR -->
<header class="topbar">
  <div class="container topbar__inner">
    <a class="brand" href="index.html" aria-label="GeefGas Home">
      <img class="brand__logo" src="assets/geefgas.PNG" alt="GeefGas logo">
      <span class="brand__name">GeefGas</span>
    </a>

    <nav class="nav">
      <a class="nav__link" href="index.html">Home</a>
      <a class="nav__link" href="instellingen.html">Instellingen</a>
    </nav>
  </div>
</header>

<!-- PAGE -->
<main class="page">
  <div class="container page__inner">

    <!-- INTRO -->
    <section class="card">
      <div class="hero__badge">Oefenexamens • Taxi</div>
      <h1 style="margin:10px 0 6px;">Taxi oefenexamens</h1>
      <p class="muted" style="line-height:1.6; margin:0;">
        Kies een examen en start direct.  
        Alle examens zijn examengericht en bevatten uitleg + foutenlijst.
      </p>
    </section>

    <!-- TAXI EXAMENS -->
    <section class="card" id="taxiWrap" hidden>
      <h2 style="margin:0 0 6px;">Taxi examens</h2>
      <p class="muted" style="margin:0 0 12px;">
        15 examens • examengericht • luxe interface
      </p>

      <div id="taxiList" style="display:flex; flex-direction:column; gap:12px;"></div>
    </section>

    <!-- GEEN EXAMENS -->
    <section class="card" id="noExams" hidden>
      <h3>Geen examens gevonden</h3>
      <p class="muted">
        Controleer of <strong>exam-data.js</strong> correct is geladen.
      </p>
    </section>

  </div>
</main>

<script>
(function(){
  const exams = (window.EXAM_DATA && Array.isArray(window.EXAM_DATA.exams))
    ? window.EXAM_DATA.exams
    : [];

  const taxiWrap = document.getElementById("taxiWrap");
  const taxiList = document.getElementById("taxiList");
  const noExams  = document.getElementById("noExams");

  function startExam(id){
    localStorage.setItem("gg_examId", id);
    window.location.href = "examen.html";
  }

  function getNr(id){
    const m = String(id).match(/(\d+)/);
    return m ? Number(m[1]) : 0;
  }

  function makeExamCard(exam){
    const box = document.createElement("div");
    box.style.border = "1px solid rgba(16,19,26,.12)";
    box.style.borderRadius = "16px";
    box.style.padding = "14px";
    box.style.background = "#fff";

    const title = document.createElement("div");
    title.style.fontWeight = "950";
    title.style.marginBottom = "4px";
    title.textContent = exam.title;

    const meta = document.createElement("div");
    meta.className = "muted";
    meta.textContent = `${exam.questions.length} vragen • ${exam.durationMinutes} min • Taxi`;

    const btn = document.createElement("button");
    btn.className = "btn btn--primary";
    btn.textContent = "Start";
    btn.style.marginTop = "12px";
    btn.onclick = () => startExam(exam.id);

    box.appendChild(title);
    box.appendChild(meta);
    box.appendChild(btn);

    return box;
  }

  const taxiExams = exams
    .filter(e => String(e.category).toLowerCase() === "taxi")
    .sort((a,b) => getNr(a.id) - getNr(b.id));

  if (!taxiExams.length){
    noExams.hidden = false;
    return;
  }

  taxiWrap.hidden = false;
  taxiExams.forEach(exam => taxiList.appendChild(makeExamCard(exam)));
})();
</script>

</body>
</html>
